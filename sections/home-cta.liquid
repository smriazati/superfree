{{ 'home-cta.css' | asset_url | stylesheet_tag }}

<div class="home-cta full-page-width">
    {%- if section.settings.link != blank -%}
        <a href="{{ section.settings.link }}" {% if section.settings.isNewTab %}target="_blank" {% endif %}>
    {%- endif -%}

    {%- if section.settings.image != blank -%}
        <div class="image-wrapper">
        {%-liquid
            assign image_height = section.settings.image.height
            assign sizes = "100vw"
            -%}
        {{ section.settings.image | image_url: width: 1500 | image_tag:
            loading: 'lazy',
            width: section.settings.image.width,
            height: image_height,
            sizes: sizes,
            widths: '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840',
            alt: section.settings.image.alt | escape
        }}
        </div>
    {%- endif -%}

    <div class="text-wrapper">
        <h2{{ section.shopify_attributes }}>
            <span>{{ section.settings.heading | escape }}</span>
        </h2>
    </div>


    {%- if section.settings.link != blank -%}
        </a>
    {%- endif -%}
</div>

{% schema %}
{
    "name": "Call to Action",
    "tag": "section",
    "class": "section",
    "settings": [
        {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
        },
        {
        "type": "text",
        "id": "heading",
        "label": "t:sections.image-banner.blocks.heading.settings.heading.label"
        },
        {
        "type": "url",
        "id": "link",
        "label": "URL"
        },
        {
            "type": "checkbox",
            "id": "isNewTab",
            "label": "Open in new tab?"
        }
    ],
    "presets": [{
        "name": "Home - Call to Action",
        "category": "Text"
    }]
}
{% endschema %}

